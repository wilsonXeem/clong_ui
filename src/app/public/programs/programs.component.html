<!-- Page Header -->
<section class="page-header">
  <div class="container">
    <h1>Our Programs</h1>
    <p class="page-subtitle">Empowering Lives Through Faith-Based Initiatives</p>
  </div>
</section>

<!-- Loading State -->
<section class="programs-content" *ngIf="loading">
  <div class="container">
    <div class="loading-state">
      <div class="loading-spinner"></div>
      <p>Loading programs...</p>
    </div>
  </div>
</section>

<!-- Error State -->
<section class="programs-content" *ngIf="error && !loading">
  <div class="container">
    <div class="error-state">
      <div class="error-icon">‚ö†Ô∏è</div>
      <h3>Unable to Load Programs</h3>
      <p>{{ error }}</p>
      <button class="btn btn-primary" (click)="loadPrograms()">Try Again</button>
    </div>
  </div>
</section>

<!-- Programs Grid -->
<section class="programs-content" *ngIf="!loading && !error">
  <div class="container">
    <!-- Programs Overview -->
    <div class="programs-overview">
      <h2 class="section-title">Programs and Initiatives</h2>
      <p class="section-description">Join us in making a difference through these impactful programs that are changing lives across Nigeria and beyond.</p>
    </div>

    <!-- No Programs State -->
    <div class="no-programs" *ngIf="programs.length === 0">
      <div class="no-programs-content">
        <div class="no-programs-icon">üìã</div>
        <h3>No Active Programs</h3>
        <p>We're currently preparing new programs. Check back soon for exciting opportunities!</p>
        <a class="btn btn-primary" routerLink="/contact">Get Notified</a>
      </div>
    </div>

    <!-- Programs Grid -->
    <div class="programs-grid" *ngIf="programs.length > 0">
      <div class="program-card" *ngFor="let program of programs">
        <!-- Program Status Badge -->
        <div class="program-status">
          <span class="status-badge" 
                [class.upcoming]="isUpcoming(program)"
                [class.active]="isActive(program)"
                [class.completed]="!isActive(program) && !isUpcoming(program)">
            {{ isUpcoming(program) ? 'Upcoming' : (isActive(program) ? 'Active' : 'Completed') }}
          </span>
        </div>

        <!-- Program Image -->
        <div class="program-image">
          <img *ngIf="program.imageUrl" [src]="program.imageUrl" [alt]="program.title">
          <div *ngIf="!program.imageUrl" class="image-placeholder">
            {{ program.title }}
          </div>
        </div>

        <!-- Program Content -->
        <div class="program-content">
          <h3 class="program-title">{{ program.title }}</h3>
          <p class="program-description">{{ program.description }}</p>

          <!-- Program Dates -->
          <div class="program-dates" *ngIf="program.startDate || program.endDate">
            <div class="date-item" *ngIf="program.startDate">
              <span class="date-label">Start:</span>
              <span class="date-value">{{ program.startDate | date:'mediumDate' }}</span>
            </div>
            <div class="date-item" *ngIf="program.endDate">
              <span class="date-label">End:</span>
              <span class="date-value">{{ program.endDate | date:'mediumDate' }}</span>
            </div>
          </div>

          <!-- Funding Progress -->
          <div class="funding-progress" *ngIf="program.targetAmount">
            <div class="progress-header">
              <span class="progress-label">Funding Progress</span>
              <span class="progress-percentage">{{ getProgressPercentage(program) | number:'1.0-0' }}%</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="getProgressPercentage(program)"></div>
            </div>
            <div class="progress-amounts">
              <span class="current-amount">{{ formatAmount(program.currentAmount) }}</span>
              <span class="target-amount">of {{ formatAmount(program.targetAmount) }}</span>
            </div>
          </div>

          <!-- Program Actions -->
          <div class="program-actions">
            <a class="btn btn-primary" routerLink="/donate" [queryParams]="{program: program.id}">
              Support This Program
            </a>
            <button class="btn btn-outline" (click)="shareProgram(program)">
              Share
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Program Categories Section -->
<section class="program-categories">
  <div class="container">
    <h2 class="section-title">Our Key Programs</h2>
    <div class="categories-grid">
      <div class="category-card">
        <div class="category-icon">üéì</div>
        <h4>CloNG Scholarship Scheme</h4>
        <p>We award merit-based scholarships to deserving students each year, helping remove financial barriers to college and graduate studies. In addition to scholarships, we offer "scholarship bootcamps," which are intensive workshops on finding and applying for funded graduate programs. These sessions demystify financial aid and equip students with tools like scholarship tracking guides and SOP coaching.</p>
      </div>
      <div class="category-card">
        <div class="category-icon">üë•</div>
        <h4>Mentorship Program</h4>
        <p>Every participant is paired with a trained mentor (one-on-one) or placed in small cohort groups to receive personalized guidance. Our mentors are carefully vetted professionals, faculty, and community leaders committed to developing youth. Through regular meetings and digital check-ins, mentors advise on study skills, career choices, and personal growth.</p>
      </div>
      <div class="category-card">
        <div class="category-icon">üåü</div>
        <h4>Leadership & Capacity Building</h4>
        <p>We host bootcamps, retreats, and online seminars to strengthen leadership skills, community service, and life management. Our signature Ambidextrous Generation Conferences bring together hundreds of youths from different continents of the world for inspiration, impartation, revival and worship. Each program integrates spiritual enrichment with practical training, preparing participants to lead confidently in any context.</p>
      </div>
      <div class="category-card">
        <div class="category-icon">üìö</div>
        <h4>Graduate School Preparation</h4>
        <p>For college graduates and final-year students, we offer specialized support in navigating graduate applications. Services include research on programs, writing Personal Statements/SOPs, drafting CVs, and interview workshops. We organize panel discussions with successful alumni and experts ‚Äì for example, AGC 2024 & AGC 2025 featured sessions like "Securing Funded Graduate Programs in the US" and "Writing a Winning Statement of Purpose". These initiatives ensure that our scholars are competitive applicants for masters and doctoral programs worldwide.</p>
      </div>
    </div>
  </div>
</section>

<!-- Impact Statistics -->
<section class="impact-stats">
  <div class="container">
    <h2 class="section-title">Our Impact</h2>
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-number">500+</span>
        <span class="stat-label">Lives Transformed</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">50+</span>
        <span class="stat-label">Scholarships Awarded</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">25+</span>
        <span class="stat-label">Programs Completed</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">10+</span>
        <span class="stat-label">Years of Service</span>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action -->
<section class="programs-cta">
  <div class="container">
    <div class="cta-content">
      <h2>Get Involved</h2>
      <p>Join us in making a difference. Whether you want to apply for a program, volunteer, or support our initiatives, there's a place for you in our mission.</p>
      <div class="cta-buttons">
        <a class="btn btn-primary" routerLink="/volunteer">Apply for Programs</a>
        <a class="btn btn-gold" routerLink="/donate">Support Programs</a>
        <a class="btn btn-outline" routerLink="/contact">Learn More</a>
      </div>
    </div>
  </div>
</section>